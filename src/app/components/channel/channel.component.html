<app-main-nav>
  <mat-sidenav-container *ngIf="this.channel !== undefined" class="sidenav-container">
    <mat-sidenav class="sidenav" fixedInViewport
                 mode='side'
                 opened=true>

      <div>
        <button [hidden]="channel.parentChannel === null"
                mat-raised-button color="accent"
                [routerLink]="['/channel', channel.parentChannel?.id]">Back to {{channel.parentChannel?.name}}
        </button>
        <button mat-raised-button color="primary" (click)="openNewPostDialog()">New post</button>
        <button mat-raised-button color="primary" [routerLink]="['/make-channel', channel.id]">Add Subchannel</button>
        <button mat-raised-button color="primary" [routerLink]="['/edit-channel', channel.id]">Edit Channel</button>
      </div>
      <div>
        <h1 class="mat-display-1">Subchannels</h1>
        <mat-nav-list *ngIf="this.channel.channels !== undefined">
          <button mat-list-item
             *ngFor="let subchannel of channel.channels"
             [routerLink]="['/channel',subchannel.id]">{{subchannel.name}}</button>
        </mat-nav-list>
      </div>
    </mat-sidenav>

    <mat-sidenav-content>
      <mat-toolbar color="primary">
        <span>{{channel.name}}</span>
      </mat-toolbar>

      <div class="content">
        <app-post *ngFor="let post of channel.posts" [post]="post"></app-post>
      </div>

    </mat-sidenav-content>
  </mat-sidenav-container>


</app-main-nav>
